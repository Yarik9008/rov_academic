# ROV Gamepad Control System v0.1

## Описание
Первая стабильная версия системы управления ROV через геймпад на базе STM32F103C8T6 (BluePill).

## Основные возможности
- ✅ Управление ROV через 2 джойстика и 6 кнопок
- ✅ Поддержка конфигураций 3 и 4 моторов
- ✅ Фильтр Калмана для сглаживания сигналов джойстиков
- ✅ Управление полезной нагрузкой (камера, манипулятор, освещение)
- ✅ Двухстрочная телеметрия для отладки
- ✅ Валидация данных и безопасные пределы

## Технические характеристики
- **Микроконтроллер:** STM32F103C8T6 (BluePill)
- **Частота:** 72 МГц
- **RAM:** 7.7% (1580/20480 байт)
- **Flash:** 32.1% (21044/65536 байт)
- **Частота обновления:** ~20 Гц (50 мс интервал)
- **Разрешение ADC:** 12 бит (0-4095)
- **PWM диапазон:** 1000-2000 (1500 = нейтраль)

## Подключение
### Джойстики
- Джойстик 1: PA0 (X), PA1 (Y) - основное движение
- Джойстик 2: PA2 (X), PA3 (Y) - вертикальное движение

### Кнопки
- BUTTON1 (PB12) - поворот камеры влево
- BUTTON2 (PB13) - поворот камеры вправо
- BUTTON3 (PB14) - открыть манипулятор
- BUTTON4 (PB15) - закрыть манипулятор
- BUTTON5 (PB6) - включить освещение
- BUTTON6 (PB7) - выключить освещение
- BUTTON7 (PB8) - зарезервировано
- BUTTON8 (PB9) - зарезервировано

### Serial порты
- Serial (USB) - встроенный терминал для отладки (115200 baud)
- Serial1 (PA9/PA10) - ADM2687E изолятор → команды на ROV (115200 baud)
- RE (PA11) - Receive Enable (ADM2687E)
- DE (PA8) - Data Enable (ADM2687E)

## Файлы релиза
- `rov_gamepad_v0.1.bin` - прошивка для загрузки в микроконтроллер
- `rov_gamepad_v0.1.elf` - отладочный файл с символами

## Инструкция по установке
1. Подключите ST-Link программатор к BluePill
2. Загрузите файл `rov_gamepad_v0.1.bin` в микроконтроллер
3. Подключите джойстики и кнопки согласно схеме
4. Подключите Serial1 к контроллеру ROV

## Формат команд
Команды отправляются через Serial1 в формате:
```
motor0 motor1 motor2 motor3 motor4 motor5 motor6 motor7 camera manipulator light
1500   1500   1500   1500   1500   1500   1500   1500   1500  1000        1000
```

## Телеметрия
Отладочная информация через Serial USB:
```
JOYSTICKS: J1X:0.50 J1Y:0.00 J2X:0.00 J2Y:0.00 | BUTTONS: B1:0 B2:0 B3:0 B4:0 B5:0 B6:0 B7:0 B8:0
COMMANDS: M0:1500 M1:1500 M2:1500 M3:1500 M4:1500 M5:1500 M6:1500 M7:1500 CAM:1500 MAN:1000 LIGHT:1000
```

## Известные ограничения
- Поддерживаются только конфигурации 3 и 4 моторов
- Фильтр Калмана работает только для джойстиков
- Кнопки работают в режиме мгновенного переключения

## Лицензия
MIT License - свободное использование и модификация.

---
**Дата релиза:** 5 октября 2025  
**Версия:** 0.1  
**Статус:** Стабильная
